---
layout: post
title: swift开发记录
date: 2022-10-2 20:32:00
categories:  客户端
---

# 一些概念
## struct vs class
不同点
|  struct   | class  |
|  ----  | ----  | 
| 传值  | 传引用|
| 被传值或者赋值的时候会copy  | 传的事引用不会copy|
| copy on write是不可变的  | 引用计数|
| 用在函数式编程  | 用于面向对象编程|
| 不可以继承  | 可以继承(单根继承)|
| 如果需要改变需要显示指定(mutating)  |可以改变|
|一般用在view等|一般用在vm|



## generics 泛型

跟java差不多

```swift
//表示 CardContent是Equatable的可以用 == 进行比较
struct MemoryGame<CardContent> where CardContent :Equatable{


    struct Card{
        var content: CardContent;
    }
}

```


## 函数
函数是第一等公民，可以作为参数来传递

(Int,Int) -> Card 表示可以接受一个两个参数是Int返回Card的函数： 
```swift

//表示 CardContent是Equatable的可以用 == 进行比较
struct MemoryGame<CardContent> where CardContent :Equatable{
    
    var cards: Array<Card>  = Array<Card>();
    var onlyFaceUpCardIndex: Int?;
    
    init(_ count: Int,createCard: (Int,Int) -> Card){
        for index in 0..<count {
            cards.append(createCard(index,index*2))
            cards.append(createCard(index,index*2+1))
        }
    }
}
```


## mvvm

![redis](https://raw.githubusercontent.com/QuietListener/quietlistener.github.io/master/images/202210-02-mvvm.png)