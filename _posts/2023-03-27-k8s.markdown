---
layout: post
title: k8s
date: 2023-03-27 14:32:00
categories:  开发
---

1个月时间

# 简介

Kubemetes 是希腊语 中的 “领航员”或“舵 手 ”的意思 
Kubemetes 抽象了数据中心的硬件基础设施，使得对外暴露的只是 一个巨大的 资源地 。 它让我们在部署和运行组件时，不用关注底层的服务器。

来历
Kubemetes是谷歌 基于内部的Borg、 Omega及其他谷歌内部系统实践的开源系统。

## 趋势
1. 大型单体服务到拆分后的微服务
2. 发布周期长-》快速迭代
   


## 容器化好处
1. 单个微服务进行扩容
2. 提供一个一致的环境。
3. 开发者是部署程序本身， 不需要知道硬件基础设施的任何情况， 也不需要和运维团队交涉， 这被叫作 NoOps。 很明显， 你仍然需要有一些人来关心 硬件基础设施， 但 这些人不需要再处理应用程序的独特性


## K8s集群架构

1. 由主节点和工作节点组成
2. 主节点：承载着 Kubernetes控制和管理整个集群系统的控制面板，工作节点：它们运行用户实际部署的应用


### 控制面板
controller
控制面板用于控制集群并使它工作。它包含 多个组件，组件可以运行在单个主 节点上或者通过副本分别部署在多个主节点 以确保高可用性。 这些组件是 :
1. Kubernetes API 服务器，你和其他控制面板组件都要和它通信
2. Scheculer，它 调度你的应用(为应用的每个可部署组件分配一 个工作节 点〕
3. Controller Manager，它执行集群级别的功能，如复制组件、持续跟踪工作节点 、
处理节点失败 等
4. etcd，一个可靠的分布式数据存储，它能持久化存储集群配置 控制面板的组件持有井控制集群状态，但是它们不运行你的应用程序。这是由工作节点完成的 。
### 工作节点
工作节点是运行容器化应用的机器。运行、监控和 管理应用服务的任务是由以 下组件完成的 :
1. Docker、rtk :或者其他的容器类型
2. Kubelet，它与 API 服务器通信，并管理它 所在节点的容器
3. Kubernetes Service Proxy (kubenetes proxy)，它负责组件之间的负载均衡网络流量